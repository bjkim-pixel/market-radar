<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="theme-color" content="#080C14">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>ë§ˆì¼“ë ˆì´ë”</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=Noto+Sans+KR:wght@400;500;700;900&family=Bebas+Neue&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#080C14;--bg2:#0D1220;--sf:rgba(255,255,255,.038);--bd:rgba(255,255,255,.07);--bd2:rgba(255,255,255,.13);
  --up:#10D98A;--dn:#FF4D6D;--fl:#6B7A99;--ac:#3B7BF6;--go:#F5A623;--pu:#9B6EFF;--or:#FF7A3D;
  --t1:#EFF3FA;--t2:#94A3B8;--t3:#4B5875;
  --mono:'DM Mono',monospace;--sans:'Noto Sans KR',sans-serif;--disp:'Bebas Neue',sans-serif;
  --r8:8px;--r12:12px;--r16:16px;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
body{font-family:var(--sans);background:var(--bg);color:var(--t1);min-height:100dvh;overflow-x:hidden;-webkit-font-smoothing:antialiased}
::-webkit-scrollbar{width:3px;height:3px}
::-webkit-scrollbar-thumb{background:var(--bd2);border-radius:99px}
a{color:var(--ac);text-decoration:none}

@keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.2}}
@keyframes ticker{from{transform:translateX(0)}to{transform:translateX(-50%)}}
@keyframes barGrow{from{width:0}to{width:var(--w)}}
@keyframes spin{to{transform:rotate(360deg)}}
.fu1{animation:fadeUp .4s ease both}.fu2{animation:fadeUp .4s .06s ease both}
.fu3{animation:fadeUp .4s .12s ease both}.fu4{animation:fadeUp .4s .18s ease both}

/* ë ˆì´ì•„ì›ƒ */
.wrap{max-width:500px;margin:0 auto;min-height:100dvh;display:flex;flex-direction:column}

/* í‹°ì»¤ */
.ticker-band{background:#060A10;border-bottom:1px solid var(--bd);overflow:hidden;height:26px;display:flex;align-items:center;flex-shrink:0}
.ticker-inner{display:flex;animation:ticker 32s linear infinite;white-space:nowrap;will-change:transform}
.tk{display:inline-flex;align-items:center;gap:5px;padding:0 16px;font-family:var(--mono);font-size:10.5px;border-right:1px solid var(--bd)}
.tk-n{color:var(--t2)}.tk-v{color:var(--t1)}.tk-u{color:var(--up)}.tk-d{color:var(--dn)}

/* í—¤ë” */
.hdr{position:sticky;top:0;z-index:200;background:rgba(8,12,20,.96);backdrop-filter:blur(20px);border-bottom:1px solid var(--bd);padding:10px 14px 0;flex-shrink:0}
.hdr-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.logo{display:flex;align-items:center;gap:8px}
.logo-mark{width:28px;height:28px;border-radius:var(--r8);background:linear-gradient(135deg,var(--ac),var(--pu));display:flex;align-items:center;justify-content:center;font-size:14px;box-shadow:0 0 16px rgba(59,123,246,.3)}
.logo-nm{font-family:var(--disp);font-size:20px;letter-spacing:1px;line-height:1}
.logo-sb{font-size:8.5px;color:var(--t3);letter-spacing:2px;margin-top:1px}
.hdr-r{display:flex;align-items:center;gap:7px}
.live-pill{display:flex;align-items:center;gap:4px;padding:3px 8px;border-radius:99px;font-size:9.5px;font-weight:700;border:1px solid}
.live-dot{width:5px;height:5px;border-radius:50%}
.clk{font-family:var(--mono);font-size:10.5px;color:var(--t3)}
.tabs{display:flex;gap:1px;overflow-x:auto;scrollbar-width:none}
.tabs::-webkit-scrollbar{display:none}
.tab{flex-shrink:0;padding:7px 12px;font-size:11.5px;font-weight:500;color:var(--t3);background:transparent;border:none;border-bottom:2px solid transparent;cursor:pointer;transition:all .2s;white-space:nowrap;font-family:var(--sans)}
.tab.on{color:var(--t1);border-bottom-color:var(--ac);font-weight:700}

/* ë‚ ì§œ ì„ íƒ ë°” */
.date-bar{display:flex;align-items:center;gap:8px;padding:8px 14px;background:rgba(59,123,246,.05);border-bottom:1px solid var(--bd);flex-shrink:0}
.date-label{font-size:10.5px;color:var(--t3);flex-shrink:0}
.date-select{flex:1;background:var(--bg2);border:1px solid var(--bd2);border-radius:var(--r8);color:var(--t1);font-family:var(--sans);font-size:11.5px;padding:5px 9px;cursor:pointer;outline:none}
.date-select option{background:var(--bg2)}
.date-badge{font-size:9px;font-weight:700;padding:2px 7px;border-radius:4px;background:rgba(59,123,246,.15);color:var(--ac);border:1px solid rgba(59,123,246,.2);white-space:nowrap;flex-shrink:0}

/* ë©”ì¸ */
.main{flex:1;padding:12px 12px 94px;display:flex;flex-direction:column;gap:10px}
.panel{display:none;flex-direction:column;gap:10px}
.panel.on{display:flex}

/* ì¹´ë“œ */
.card{background:var(--sf);border:1px solid var(--bd);border-radius:var(--r16);overflow:hidden}
.card-h{display:flex;justify-content:space-between;align-items:center;padding:11px 14px 9px;border-bottom:1px solid var(--bd)}
.card-t{font-size:10.5px;font-weight:700;color:var(--t2);letter-spacing:.6px;text-transform:uppercase}
.card-m{font-size:10.5px;color:var(--ac);cursor:pointer;font-weight:600}
.card-b{padding:11px 14px}

/* ì§€ìˆ˜ ê·¸ë¦¬ë“œ */
.idx-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:7px}
.idx-c{background:var(--sf);border:1px solid var(--bd);border-radius:var(--r12);padding:10px 11px;position:relative;overflow:hidden}
.idx-c::before{content:'';position:absolute;top:0;left:0;right:0;height:2px}
.idx-c.up::before{background:var(--up)}.idx-c.dn::before{background:var(--dn)}
.idx-nm{font-size:8.5px;font-weight:700;color:var(--t3);letter-spacing:.5px;text-transform:uppercase;margin-bottom:4px}
.idx-v{font-family:var(--mono);font-size:15px;font-weight:500;line-height:1}
.idx-ch{font-family:var(--mono);font-size:10px;margin-top:3px}
.idx-ch.up{color:var(--up)}.idx-ch.dn{color:var(--dn)}

/* ì‹œì¥ ìš”ì•½ */
.summary-box{background:linear-gradient(135deg,rgba(59,123,246,.09),rgba(155,110,255,.06));border:1px solid rgba(59,123,246,.2);border-radius:var(--r12);padding:13px 14px}
.summary-label{font-size:9px;font-weight:700;color:var(--ac);letter-spacing:1px;text-transform:uppercase;margin-bottom:8px}
.summary-line{font-size:12.5px;color:var(--t2);line-height:1.65;padding:3px 0;border-bottom:1px solid rgba(255,255,255,.04)}
.summary-line:last-child{border-bottom:none}
.summary-line em{color:var(--t1);font-style:normal;font-weight:600}
.summary-time{font-size:10px;color:var(--t3);margin-top:8px}

/* ìˆ˜ê¸‰ ë°” */
.sup-row{display:flex;align-items:center;gap:9px;padding:8px 0;border-bottom:1px solid var(--bd)}
.sup-row:last-child{border-bottom:none}
.sup-nm{width:36px;font-size:11px;font-weight:500;color:var(--t2);flex-shrink:0}
.sup-bw{flex:1;height:5px;background:rgba(255,255,255,.06);border-radius:99px;overflow:hidden}
.sup-bf{height:100%;border-radius:99px;width:var(--w);animation:barGrow .8s ease both}
.sup-bf.up{background:linear-gradient(90deg,#0EA86B,var(--up))}
.sup-bf.dn{background:linear-gradient(90deg,#CC2244,var(--dn))}
.sup-val{width:72px;text-align:right;font-family:var(--mono);font-size:11px;font-weight:500;flex-shrink:0}

/* ê¸°ê°„ íƒ­ */
.period-tabs{display:flex;gap:5px;margin-bottom:12px}
.period-tab{flex:1;padding:6px;font-size:11px;font-weight:600;border-radius:var(--r8);border:1px solid var(--bd);background:transparent;color:var(--t3);cursor:pointer;transition:all .2s;font-family:var(--sans)}
.period-tab.on{background:rgba(59,123,246,.12);border-color:rgba(59,123,246,.3);color:var(--ac)}

/* íˆ¬ìì í…Œì´ë¸” */
.inv-table{width:100%;border-collapse:collapse;font-size:11.5px}
.inv-table th{font-size:9.5px;color:var(--t3);font-weight:600;letter-spacing:.4px;text-transform:uppercase;padding:6px 0;border-bottom:1px solid var(--bd);text-align:right}
.inv-table th:first-child{text-align:left}
.inv-table td{font-family:var(--mono);padding:8px 0;border-bottom:1px solid rgba(255,255,255,.03);text-align:right;color:var(--t2)}
.inv-table td:first-child{text-align:left;font-family:var(--sans);font-size:12px;color:var(--t1)}
.inv-table tr:last-child td{border-bottom:none}
.inv-table .u{color:var(--up)}.inv-table .d{color:var(--dn)}

/* ì—°ì†ìˆœë§¤ìˆ˜ ë¦¬ìŠ¤íŠ¸ */
.consec-item{display:flex;align-items:center;gap:9px;padding:9px 0;border-bottom:1px solid var(--bd);cursor:pointer}
.consec-item:last-child{border-bottom:none}
.c-rank{width:18px;font-size:10px;color:var(--t3);font-family:var(--mono);text-align:center;flex-shrink:0}
.c-info{flex:1;min-width:0}
.c-name{font-size:13px;font-weight:600;color:var(--t1)}
.c-mkt{font-size:10px;color:var(--t3);margin-top:1px}
.c-days{font-size:10px;font-weight:700;padding:2px 8px;border-radius:99px;white-space:nowrap;flex-shrink:0}
.c-amt{font-family:var(--mono);font-size:12px;width:60px;text-align:right;flex-shrink:0}

/* Top ë§¤ìˆ˜/ë§¤ë„ */
.trader-row{display:flex;align-items:center;gap:9px;padding:8px 0;border-bottom:1px solid var(--bd)}
.trader-row:last-child{border-bottom:none}
.tr-no{width:16px;font-size:10px;color:var(--t3);font-family:var(--mono);flex-shrink:0}
.tr-name{flex:1;font-size:13px;font-weight:600;color:var(--t1)}
.tr-mkt{font-size:10px;color:var(--t3);margin-left:4px}
.tr-amt{font-family:var(--mono);font-size:12px;font-weight:500;flex-shrink:0}

/* ë”ë³´ê¸° */
.more-btn{display:flex;align-items:center;justify-content:center;gap:6px;padding:10px;font-size:12px;color:var(--ac);cursor:pointer;border-top:1px solid var(--bd);font-weight:600;transition:background .2s}
.more-btn:hover{background:rgba(59,123,246,.06)}
.more-section{display:none}
.more-section.open{display:block}

/* íˆíŠ¸ë§µ */
.hm-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:5px}
.hm-c{border-radius:var(--r8);padding:10px 8px;cursor:pointer;transition:opacity .2s,transform .15s;position:relative}
.hm-c:hover{opacity:.82;transform:scale(.97)}
.hm-n{font-size:11px;font-weight:700;color:#fff;line-height:1.2;margin-bottom:3px}
.hm-ch{font-family:var(--mono);font-size:13px;font-weight:500;color:rgba(255,255,255,.9)}
.hm-vl{font-size:9px;color:rgba(255,255,255,.5);margin-top:2px}

/* ì„¹í„° ìƒì„¸ íŒì—… */
.sector-popup{position:fixed;inset:0;z-index:500;display:flex;align-items:flex-end;background:rgba(0,0,0,.6);backdrop-filter:blur(4px)}
.sector-popup.hidden{display:none}
.popup-sheet{background:var(--bg2);border-radius:24px 24px 0 0;padding:20px 16px 40px;width:100%;max-width:500px;margin:0 auto;max-height:80dvh;overflow-y:auto;border-top:1px solid var(--bd)}
.popup-handle{width:36px;height:4px;background:var(--bd2);border-radius:99px;margin:0 auto 16px}
.popup-title{font-size:16px;font-weight:700;margin-bottom:14px}
.popup-stock{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid var(--bd)}
.popup-stock:last-child{border-bottom:none}
.ps-name{font-size:13px;font-weight:600;color:var(--t1)}
.ps-mkt{font-size:10px;color:var(--t3);margin-top:1px}
.ps-price{font-family:var(--mono);font-size:13px;font-weight:500;color:var(--t1)}
.ps-chg{font-family:var(--mono);font-size:11px;margin-top:2px;text-align:right}
.popup-close{display:block;text-align:center;padding:12px;font-size:13px;color:var(--t3);cursor:pointer;margin-top:8px}

/* ì„¹í„° ë°” ë¦¬ìŠ¤íŠ¸ */
.sec-item{display:flex;align-items:center;gap:9px;padding:8px 0;border-bottom:1px solid var(--bd);cursor:pointer}
.sec-item:last-child{border-bottom:none}
.sec-rank{width:14px;font-size:10px;color:var(--t3);font-family:var(--mono);flex-shrink:0}
.sec-nm{width:68px;font-size:12px;color:var(--t1);flex-shrink:0;font-weight:500}
.sec-bw{flex:1;height:5px;background:rgba(255,255,255,.05);border-radius:99px;overflow:hidden}
.sec-bf{height:100%;border-radius:99px;width:var(--w);animation:barGrow 1s ease both}
.sec-pct{width:44px;text-align:right;font-family:var(--mono);font-size:12px;font-weight:600;flex-shrink:0}
.sec-vol{width:32px;text-align:right;font-size:10px;color:var(--t3);flex-shrink:0}

/* ì‹ ê³ ê°€ */
.nh-mode-tabs{display:flex;gap:6px;margin-bottom:10px}
.nh-tab{flex:1;padding:8px;font-size:11.5px;font-weight:700;border:1px solid var(--bd);border-radius:var(--r8);background:transparent;color:var(--t3);cursor:pointer;transition:all .2s;font-family:var(--sans)}
.nh-tab.a-up{background:rgba(16,217,138,.1);border-color:rgba(16,217,138,.28);color:var(--up)}
.nh-tab.a-dn{background:rgba(255,77,109,.1);border-color:rgba(255,77,109,.28);color:var(--dn)}
/* ì‹ ê³ ê°€ ìœ í˜• ì„œë¸Œíƒ­ */
.nh-sub{display:flex;gap:5px;margin-bottom:10px}
.nh-sub-btn{flex:1;padding:5px 8px;font-size:11px;font-weight:600;border:1px solid var(--bd);border-radius:99px;background:transparent;color:var(--t3);cursor:pointer;transition:all .2s;font-family:var(--sans);white-space:nowrap}
.nh-sub-btn.on{background:rgba(245,166,35,.12);border-color:rgba(245,166,35,.3);color:var(--go)}
.nh-item{display:flex;align-items:center;gap:9px;padding:10px 0;border-bottom:1px solid var(--bd)}
.nh-item:last-child{border-bottom:none}
.nh-rank{width:16px;font-size:10px;color:var(--t3);font-family:var(--mono);text-align:center;flex-shrink:0}
.nh-info{flex:1;min-width:0}
.nh-name{font-size:13px;font-weight:700;color:var(--t1);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.nh-meta{display:flex;gap:5px;align-items:center;margin-top:2px;flex-wrap:wrap}
.nh-mkt{font-size:9.5px;padding:1px 6px;border-radius:3px;font-weight:700}
.nh-sig{font-size:9.5px;padding:1px 6px;border-radius:3px;font-weight:700}
.nh-r{text-align:right;flex-shrink:0}
.nh-price{font-family:var(--mono);font-size:13px;font-weight:500}
.nh-chg{font-family:var(--mono);font-size:11px;margin-top:2px}
.nh-ratio{font-size:9px;color:var(--t3);margin-top:1px}

/* Phase ì‹ í˜¸ */
.p-chips{display:flex;gap:5px;overflow-x:auto;scrollbar-width:none;padding-bottom:2px}
.p-chips::-webkit-scrollbar{display:none}
.p-chip{flex-shrink:0;padding:5px 11px;font-size:11px;font-weight:600;border-radius:99px;border:1px solid var(--bd);background:transparent;color:var(--t3);cursor:pointer;transition:all .2s;font-family:var(--sans);white-space:nowrap}
.p-chip.on{color:var(--t1);border-color:var(--bd2);background:rgba(255,255,255,.07)}
.p-item{display:flex;align-items:center;gap:9px;padding:11px 0;border-bottom:1px solid var(--bd);cursor:pointer;transition:padding .15s}
.p-item:last-child{border-bottom:none}
.p-no{width:16px;font-size:10px;color:var(--t3);font-family:var(--mono);text-align:center;flex-shrink:0}
.p-info{flex:1;min-width:0}
.p-name{font-size:13px;font-weight:700;color:var(--t1)}
.p-mkt{display:inline-block;font-size:9px;font-weight:700;padding:1px 5px;border-radius:3px;margin-left:4px;vertical-align:middle}
.p-badges{display:flex;gap:4px;margin-top:4px;flex-wrap:wrap}
.badge{font-size:9.5px;font-weight:700;padding:2px 7px;border-radius:4px}
.p-metrics{display:flex;gap:8px;margin-top:4px;flex-wrap:wrap}
.metric{font-size:10px;color:var(--t3)}.metric span{font-family:var(--mono);color:var(--t2)}
.p-r{text-align:right;flex-shrink:0}
.p-price{font-family:var(--mono);font-size:13px;font-weight:500}
.p-chg{font-family:var(--mono);font-size:11px;margin-top:2px}

/* í†µê³„ */
.stat-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:7px}
.stat-c{background:var(--sf);border:1px solid var(--bd);border-radius:var(--r12);padding:12px 13px}
.stat-l{font-size:10px;color:var(--t3);margin-bottom:5px;font-weight:500}
.stat-v{font-family:var(--disp);font-size:30px;line-height:1;letter-spacing:1px}
.stat-s{font-size:10px;color:var(--t3);margin-top:2px}

/* ë¹ˆ ìƒíƒœ */
.empty{padding:24px 0;text-align:center;color:var(--t3);font-size:13px}

/* í•˜ë‹¨ ë„¤ë¹„ */
.bot-nav{position:fixed;bottom:0;left:50%;transform:translateX(-50%);width:100%;max-width:500px;background:rgba(8,12,20,.97);backdrop-filter:blur(20px);border-top:1px solid var(--bd);display:flex;padding:5px 0 calc(5px + env(safe-area-inset-bottom));z-index:200}
.nav-btn{flex:1;display:flex;flex-direction:column;align-items:center;gap:2px;padding:5px 0;background:transparent;border:none;cursor:pointer;font-family:var(--sans)}
.nav-ic{font-size:18px;line-height:1}
.nav-lb{font-size:9px;font-weight:600;color:var(--t3);transition:color .2s}
.nav-btn.on .nav-lb{color:var(--ac)}
.nav-btn.on .nav-ic{filter:drop-shadow(0 0 4px var(--ac))}

/* ìœ í‹¸ */
.up{color:var(--up)}.dn{color:var(--dn)}.go{color:var(--go)}.ac{color:var(--ac)}
.mono{font-family:var(--mono)}
.loading{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;gap:12px}
.spinner{width:28px;height:28px;border:3px solid var(--bd);border-top-color:var(--ac);border-radius:50%;animation:spin .8s linear infinite}
@media(max-width:380px){.idx-v{font-size:13px}.hm-n{font-size:10px}.hm-ch{font-size:12px}}
</style>
</head>
<body>
<div class="wrap">

<!-- í‹°ì»¤ -->
<div class="ticker-band"><div class="ticker-inner" id="tickerEl"></div></div>

<!-- í—¤ë” -->
<header class="hdr">
  <div class="hdr-top">
    <div class="logo">
      <div class="logo-mark">ğŸ“¡</div>
      <div><div class="logo-nm">MARKET RADAR</div><div class="logo-sb">Daily Dashboard</div></div>
    </div>
    <div class="hdr-r">
      <div class="live-pill" id="livePill">
        <div class="live-dot" id="liveDot"></div>
        <span id="liveLabel">--</span>
      </div>
      <div class="clk" id="clockEl">--:--:--</div>
    </div>
  </div>
  <div class="tabs">
    <button class="tab on" data-t="0">ì¢…í•©</button>
    <button class="tab" data-t="1">ìˆ˜ê¸‰</button>
    <button class="tab" data-t="2">ì„¹í„°</button>
    <button class="tab" data-t="3">ì‹ ê³ ê°€</button>
    <button class="tab" data-t="4">Phaseì‹ í˜¸</button>
  </div>
</header>

<!-- ë‚ ì§œ ì„ íƒ ë°” -->
<div class="date-bar">
  <span class="date-label">ğŸ“… ë‚ ì§œ</span>
  <select class="date-select" id="dateSelect" onchange="onDateChange()">
    <option value="today">ì˜¤ëŠ˜ (ìµœì‹ )</option>
  </select>
  <span class="date-badge" id="dateBadge">ì‹¤ì‹œê°„</span>
</div>

<!-- ë³¸ë¬¸ -->
<main class="main">
  <div class="loading" id="loadingEl">
    <div class="spinner"></div>
    <div style="font-size:13px;color:var(--t3)">ë°ì´í„° ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
  </div>

  <!-- TAB 0: ì¢…í•© -->
  <div class="panel" data-p="0">
    <div class="idx-grid fu1" id="idxGrid"></div>
    <div class="summary-box fu2">
      <div class="summary-label">ğŸ“‹ ì˜¤ëŠ˜ì˜ ì‹œì¥ ìš”ì•½</div>
      <div id="summaryLines"></div>
      <div class="summary-time" id="summaryTime"></div>
    </div>
    <div class="card fu3">
      <div class="card-h"><span class="card-t">ì˜¤ëŠ˜ì˜ ìˆ˜ê¸‰</span><span class="card-m" data-goto="1">ìì„¸íˆ â†’</span></div>
      <div class="card-b" id="supplyBarsHome"></div>
    </div>
    <div class="card fu4">
      <div class="card-h"><span class="card-t">â­ Phase ì‹ í˜¸ í˜„í™©</span><span class="card-m" data-goto="4">ì „ì²´ â†’</span></div>
      <div class="card-b"><div class="stat-grid" id="statHome"></div></div>
    </div>
    <div class="card fu4">
      <div class="card-h"><span class="card-t">ğŸ”¥ ì£¼ëª© ì¢…ëª©</span><span class="card-m" data-goto="4">ì „ì²´ â†’</span></div>
      <div class="card-b" style="padding:4px 14px 12px" id="hotStocks"></div>
    </div>
  </div>

  <!-- TAB 1: ìˆ˜ê¸‰ -->
  <div class="panel" data-p="1">
    <!-- ê¸°ê°„ ì„ íƒ -->
    <div class="period-tabs">
      <button class="period-tab on" data-period="day"  onclick="setPeriod('day')">ì˜¤ëŠ˜</button>
      <button class="period-tab"    data-period="week" onclick="setPeriod('week')">1ì£¼ì¼</button>
      <button class="period-tab"    data-period="month" onclick="setPeriod('month')">1ê°œì›”</button>
    </div>
    <!-- ì‹œì¥ ìˆ˜ê¸‰ -->
    <div class="card">
      <div class="card-h"><span class="card-t" id="supplyCardTitle">ì‹œì¥ ìˆ˜ê¸‰ (ì˜¤ëŠ˜)</span></div>
      <div class="card-b" id="mktSupply"></div>
    </div>
    <!-- ê±°ë˜ì£¼ì²´ë³„ Top ë§¤ìˆ˜ -->
    <div class="card">
      <div class="card-h"><span class="card-t">ğŸ’° ê±°ë˜ì£¼ì²´ë³„ Top ë§¤ìˆ˜ ì¢…ëª©</span></div>
      <div class="card-b" style="padding:4px 14px 12px" id="topBuyList"></div>
    </div>
    <!-- ê±°ë˜ì£¼ì²´ë³„ Top ë§¤ë„ -->
    <div class="card">
      <div class="card-h"><span class="card-t">ğŸ“¤ ê±°ë˜ì£¼ì²´ë³„ Top ë§¤ë„ ì¢…ëª©</span></div>
      <div class="card-b" style="padding:4px 14px 12px" id="topSellList"></div>
    </div>
    <!-- ì™¸ì¸ ì—°ì† -->
    <div class="card">
      <div class="card-h"><span class="card-t">ğŸ”µ ì™¸ì¸ ì—°ì† ìˆœë§¤ìˆ˜ Top10</span></div>
      <div class="card-b" style="padding:4px 14px 12px" id="fConsList"></div>
      <div class="more-btn" onclick="toggleMore('fMore')">â–¾ ë”ë³´ê¸° (ìµœëŒ€ 50ê°œ)</div>
      <div class="more-section" id="fMore" style="padding:0 14px 12px"></div>
    </div>
    <!-- ê¸°ê´€ ì—°ì† -->
    <div class="card">
      <div class="card-h"><span class="card-t">ğŸŸ¡ ê¸°ê´€ ì—°ì† ìˆœë§¤ìˆ˜ Top10</span></div>
      <div class="card-b" style="padding:4px 14px 12px" id="iConsList"></div>
      <div class="more-btn" onclick="toggleMore('iMore')">â–¾ ë”ë³´ê¸° (ìµœëŒ€ 50ê°œ)</div>
      <div class="more-section" id="iMore" style="padding:0 14px 12px"></div>
    </div>
    <!-- ê°œì¸ ì—°ì† -->
    <div class="card">
      <div class="card-h"><span class="card-t">ğŸŸ£ ê°œì¸ ì—°ì† ìˆœë§¤ìˆ˜ Top10</span></div>
      <div class="card-b" style="padding:4px 14px 12px" id="pConsList"></div>
    </div>
  </div>

  <!-- TAB 2: ì„¹í„° -->
  <div class="panel" data-p="2">
    <div class="card">
      <div class="card-h"><span class="card-t">ì—…ì¢… íˆíŠ¸ë§µ</span><span style="font-size:10px;color:var(--t3)">í´ë¦­í•˜ë©´ êµ¬ì„±ì¢…ëª©</span></div>
      <div class="card-b"><div class="hm-grid" id="hmGrid"></div></div>
    </div>
    <div class="card">
      <div class="card-h"><span class="card-t">ì „ì²´ ì—…ì¢… ë“±ë½ë¥ </span></div>
      <div class="card-b" style="padding:5px 14px 12px" id="secList"></div>
    </div>
  </div>

  <!-- TAB 3: ì‹ ê³ ê°€ -->
  <div class="panel" data-p="3">
    <div class="nh-mode-tabs">
      <button class="nh-tab a-up" id="nhHBtn" onclick="switchNH('h')">ğŸ“ ì‹ ê³ ê°€ <span id="nhHCnt"></span></button>
      <button class="nh-tab" id="nhLBtn" onclick="switchNH('l')">ğŸ“‰ ì‹ ì €ê°€ <span id="nhLCnt"></span></button>
    </div>
    <div class="nh-sub" id="nhSubTabs">
      <button class="nh-sub-btn on" onclick="switchNHSub('52')">52ì£¼ ì‹ ê³ ê°€</button>
      <button class="nh-sub-btn" onclick="switchNHSub('hist')">ì—­ì‚¬ì  ì‹ ê³ ê°€</button>
    </div>
    <div class="card">
      <div class="card-h"><span class="card-t" id="nhCardT">ì‹ ê³ ê°€ ì¢…ëª©</span><span style="font-size:10px;color:var(--t3)">ê´€ì‹¬ì¢…ëª© ê¸°ì¤€</span></div>
      <div class="card-b" style="padding:4px 14px 12px" id="nhList"></div>
    </div>
  </div>

  <!-- TAB 4: Phaseì‹ í˜¸ -->
  <div class="panel" data-p="4">
    <div class="stat-grid" id="statGrid"></div>
    <div class="p-chips" id="pChips"></div>
    <div class="card">
      <div class="card-h"><span class="card-t" id="phaseCardT">ì˜¤ëŠ˜ì˜ Phase ì‹ í˜¸</span></div>
      <div class="card-b" style="padding:4px 14px 12px" id="phaseList"></div>
    </div>
  </div>
</main>

<!-- ì„¹í„° íŒì—… -->
<div class="sector-popup hidden" id="sectorPopup" onclick="closeSectorPopup(event)">
  <div class="popup-sheet">
    <div class="popup-handle"></div>
    <div class="popup-title" id="popupTitle"></div>
    <div id="popupStocks"></div>
    <div class="popup-close" onclick="closeSectorPopup(null,true)">ë‹«ê¸°</div>
  </div>
</div>

<!-- í•˜ë‹¨ ë„¤ë¹„ -->
<nav class="bot-nav">
  <button class="nav-btn on" data-n="0"><span class="nav-ic">ğŸ“Š</span><span class="nav-lb">ì¢…í•©</span></button>
  <button class="nav-btn" data-n="1"><span class="nav-ic">ğŸ’°</span><span class="nav-lb">ìˆ˜ê¸‰</span></button>
  <button class="nav-btn" data-n="2"><span class="nav-ic">ğŸ­</span><span class="nav-lb">ì„¹í„°</span></button>
  <button class="nav-btn" data-n="3"><span class="nav-ic">ğŸš€</span><span class="nav-lb">ì‹ ê³ ê°€</span></button>
  <button class="nav-btn" data-n="4"><span class="nav-ic">ğŸ“¡</span><span class="nav-lb">ì‹ í˜¸</span></button>
</nav>
</div>

<script>
/* â•â• ì „ì—­ ìƒíƒœ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let G = null;           // í˜„ì¬ ë Œë” ë°ì´í„°
let HIST = null;        // history.json
let pFilter = 'all';
let nhMode = 'h';
let nhSub = '52';
let supplyPeriod = 'day';
const SECTOR_DATA = [
  {n:'ë°˜ë„ì²´', ch:null, vol:null, stocks:[{name:'ì‚¼ì„±ì „ì',market:'KOSPI'},{name:'SKí•˜ì´ë‹‰ìŠ¤',market:'KOSPI'},{name:'í•œë¯¸ë°˜ë„ì²´',market:'KOSPI'}]},
  {n:'ìë™ì°¨', ch:null, vol:null, stocks:[{name:'í˜„ëŒ€ì°¨',market:'KOSPI'},{name:'ê¸°ì•„',market:'KOSPI'},{name:'í˜„ëŒ€ëª¨ë¹„ìŠ¤',market:'KOSPI'}]},
  {n:'ë°”ì´ì˜¤', ch:null, vol:null, stocks:[{name:'ì‚¼ì„±ë°”ì´ì˜¤ë¡œì§ìŠ¤',market:'KOSPI'},{name:'ì…€íŠ¸ë¦¬ì˜¨',market:'KOSPI'},{name:'ì˜¬ë¦­ìŠ¤',market:'KOSDAQ'}]},
  {n:'2ì°¨ì „ì§€', ch:null, vol:null, stocks:[{name:'LGì—ë„ˆì§€ì†”ë£¨ì…˜',market:'KOSPI'},{name:'ì—ì½”í”„ë¡œë¹„ì— ',market:'KOSDAQ'},{name:'í¬ìŠ¤ì½”í“¨ì²˜ì— ',market:'KOSPI'}]},
  {n:'ë°©ì‚°',   ch:null, vol:null, stocks:[{name:'í•œí™”ì—ì–´ë¡œìŠ¤í˜ì´ìŠ¤',market:'KOSPI'},{name:'LIGë„¥ìŠ¤ì›',market:'KOSPI'},{name:'í•œêµ­í•­ê³µìš°ì£¼',market:'KOSPI'}]},
  {n:'IT/í”Œë«í¼', ch:null, vol:null, stocks:[{name:'NAVER',market:'KOSPI'},{name:'ì¹´ì¹´ì˜¤',market:'KOSPI'},{name:'ì¹´ì¹´ì˜¤ë±…í¬',market:'KOSPI'}]},
  {n:'ì „ë ¥/ì—ë„ˆì§€', ch:null, vol:null, stocks:[{name:'í•œêµ­ì „ë ¥',market:'KOSPI'},{name:'ë‘ì‚°ì—ë„ˆë¹Œë¦¬í‹°',market:'KOSPI'},{name:'LSì¼ë ‰íŠ¸ë¦­',market:'KOSPI'}]},
  {n:'ê¸ˆìœµ', ch:null, vol:null, stocks:[{name:'KBê¸ˆìœµ',market:'KOSPI'},{name:'ì‹ í•œì§€ì£¼',market:'KOSPI'},{name:'í•˜ë‚˜ê¸ˆìœµì§€ì£¼',market:'KOSPI'}]},
  {n:'ì¡°ì„ /í•´ìš´', ch:null, vol:null, stocks:[{name:'HDí•œêµ­ì¡°ì„ í•´ì–‘',market:'KOSPI'},{name:'ì‚¼ì„±ì¤‘ê³µì—…',market:'KOSPI'},{name:'HMM',market:'KOSPI'}]},
  {n:'í™”í•™', ch:null, vol:null, stocks:[{name:'LGí™”í•™',market:'KOSPI'},{name:'ë¡¯ë°ì¼€ë¯¸ì¹¼',market:'KOSPI'},{name:'OCIí™€ë”©ìŠ¤',market:'KOSPI'}]},
  {n:'ì§€ì£¼ì‚¬', ch:null, vol:null, stocks:[{name:'ì‚¼ì„±ë¬¼ì‚°',market:'KOSPI'},{name:'SK',market:'KOSPI'},{name:'LG',market:'KOSPI'}]},
  {n:'ê¸°ê³„', ch:null, vol:null, stocks:[{name:'ë‘ì‚°ë°¥ìº£',market:'KOSPI'},{name:'í˜„ëŒ€ê±´ì„¤ê¸°ê³„',market:'KOSPI'},{name:'ì‚¼ìµTHK',market:'KOSPI'}]},
];
// ì„¹í„° ìƒ˜í”Œ ë“±ë½ë¥  (ì‹¤ì œë¡  KIS ì—…ì¢… API ì¶”ê°€ í•„ìš”)
const SECTOR_CHG = [2.7,6.3,3.0,1.9,1.9,-1.3,5.8,-1.6,0.6,6.2,-3.3,0.7];
SECTOR_DATA.forEach((s,i)=>{s.ch=SECTOR_CHG[i]; s.vol=['24ì¡°','5.3ì¡°','5.4ì¡°','2.6ì¡°','2.1ì¡°','2.9ì¡°','4.9ì¡°','3.8ì¡°','1.4ì¡°','2.6ì¡°','1.3ì¡°','2.1ì¡°'][i]});

/* â•â• ìœ í‹¸ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const fmtN = n => Number(n||0).toLocaleString('ko');
const fmtP = n => (n>=0?'+':'')+Number(n).toFixed(2)+'%';
function fmtAmt(n){
  const s=n>=0?'+':'-', a=Math.abs(n);
  if(a>=1e12) return s+(a/1e12).toFixed(1)+'ì¡°';
  if(a>=1e8)  return s+(a/1e8).toFixed(0)+'ì–µ';
  return (n>=0?'+':'')+fmtN(n);
}
function mktBadge(m){
  return m==='KOSDAQ'
    ? `<span style="background:rgba(155,110,255,.15);color:var(--pu);font-size:9px;font-weight:700;padding:1px 5px;border-radius:3px">KOSDAQ</span>`
    : `<span style="background:rgba(59,123,246,.15);color:var(--ac);font-size:9px;font-weight:700;padding:1px 5px;border-radius:3px">KOSPI</span>`;
}
function phaseColor(k){return{golden:'#F5A623',p2:'#10D98A',p1:'#3B7BF6',p3:'#FF4D6D'}[k]||'#94A3B8';}
function spark(up,w=64,h=24){
  const pts=up?[42,40,43,39,45,41,47,43,49,46,51,48,53]:[53,51,49,52,47,50,45,48,43,46,41,44,39];
  const mn=Math.min(...pts),mx=Math.max(...pts),rng=mx-mn||1;
  const c=pts.map((v,i)=>`${((i/(pts.length-1))*w).toFixed(1)},${(h-((v-mn)/rng)*h).toFixed(1)}`).join(' ');
  const col=up?'#10D98A':'#FF4D6D';
  const last=c.split(' ').pop().split(',');
  return `<svg width="${w}" height="${h}" style="overflow:visible;display:block"><polyline points="${c}" fill="none" stroke="${col}" stroke-width="1.5" stroke-linejoin="round"/><circle cx="${last[0]}" cy="${last[1]}" r="2.5" fill="${col}"/></svg>`;
}

/* â•â• ë°ì´í„° ë¡œë“œ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
async function loadData(){
  try{
    const [mResp, hResp] = await Promise.allSettled([
      fetch(`data/market.json?t=${Date.now()}`),
      fetch(`data/history.json?t=${Date.now()}`),
    ]);
    G = mResp.status==='fulfilled' && mResp.value.ok ? await mResp.value.json() : SAMPLE;
    HIST = hResp.status==='fulfilled' && hResp.value.ok ? await hResp.value.json() : {};

    // ë‚ ì§œ ë“œë¡­ë‹¤ìš´ ì±„ìš°ê¸°
    const sel = document.getElementById('dateSelect');
    sel.innerHTML = '<option value="today">ì˜¤ëŠ˜ (ìµœì‹ )</option>';
    const dates = G.available_dates || Object.keys(HIST).sort().reverse().slice(0,30);
    dates.forEach(d=>{
      if(d !== G.date){
        const o = document.createElement('option');
        o.value = d; o.textContent = d;
        sel.appendChild(o);
      }
    });

    document.getElementById('loadingEl').style.display='none';
    document.querySelector('.panel[data-p="0"]').classList.add('on');
    renderAll();
  } catch(e){
    console.warn('ë¡œë“œ ì‹¤íŒ¨, ìƒ˜í”Œ ì‚¬ìš©:', e);
    G = SAMPLE; HIST = {};
    document.getElementById('loadingEl').style.display='none';
    document.querySelector('.panel[data-p="0"]').classList.add('on');
    renderAll();
  }
}

async function onDateChange(){
  const sel = document.getElementById('dateSelect');
  const val = sel.value;
  if(val==='today'){
    document.getElementById('dateBadge').textContent='ì‹¤ì‹œê°„';
    document.getElementById('dateBadge').style.color='var(--ac)';
    await loadData(); return;
  }
  // ê³¼ê±° ë°ì´í„°
  const h = HIST[val];
  if(!h){ alert('í•´ë‹¹ ë‚ ì§œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.'); return; }
  G = {
    ...G,
    updated_at: val+' (ì¥ë§ˆê° í›„)',
    date: val,
    indices:       h.indices || G.indices,
    market_supply: h.market_supply || G.market_supply,
    stocks: Object.entries(h.stocks||{}).map(([code,s])=>({code,...s,
      nh_flag:s.nh_flag||'',foreign_today:0,inst_today:0,indiv_today:0,supply_periods:{}})),
  };
  document.getElementById('dateBadge').textContent=val;
  document.getElementById('dateBadge').style.color='var(--go)';
  renderAll();
}

/* â•â• ë Œë” í•¨ìˆ˜ë“¤ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function renderAll(){
  renderTicker();
  renderIdx();
  renderSummary();
  renderSupplyBarsHome();
  renderStatHome();
  renderHotStocks();
  renderSupplyTab();
  renderSector();
  renderNH();
  renderPhase();
}

// í‹°ì»¤
function renderTicker(){
  const items = [...(G.indices||[]).map(i=>({n:i.name,v:fmtN(i.value),c:fmtP(i.change),up:i.change>=0})),
    ...(G.stocks||[]).map(s=>({n:s.name,v:fmtN(s.price),c:fmtP(s.change),up:s.change>=0}))];
  const html = items.concat(items).map(t=>
    `<div class="tk"><span class="tk-n">${t.n}</span><span class="tk-v">${t.v}</span><span class="${t.up?'tk-u':'tk-d'}">${t.c}</span></div>`
  ).join('');
  document.getElementById('tickerEl').innerHTML=html;
}

// ì§€ìˆ˜
function renderIdx(){
  document.getElementById('idxGrid').innerHTML=(G.indices||[]).map(i=>{
    const up=i.change>=0;
    return`<div class="idx-c ${up?'up':'dn'}">
      <div class="idx-nm">${i.name}</div>
      <div class="idx-v">${fmtN(i.value)}</div>
      <div class="idx-ch ${up?'up':'dn'}">${fmtP(i.change)} (${i.diff>=0?'+':''}${fmtN(i.diff)})</div>
      <div style="margin-top:5px">${spark(up)}</div>
      <div style="font-size:9px;color:var(--t3);margin-top:3px">ê±°ë˜ ${i.vol}</div>
    </div>`;
  }).join('');
}

// ì‹œì¥ ìš”ì•½
function renderSummary(){
  const lines = G.summary_lines || [];
  document.getElementById('summaryLines').innerHTML = lines.length
    ? lines.map(l=>`<div class="summary-line">${l}</div>`).join('')
    : '<div class="summary-line" style="color:var(--t3)">ë°ì´í„° ìˆ˜ì§‘ ì¤‘...</div>';
  document.getElementById('summaryTime').textContent = `ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: ${G.updated_at} KST`;
}

// í™ˆ ìˆ˜ê¸‰ ë°”
function renderSupplyBarsHome(){
  const ms = G.market_supply||{};
  const rows=[{nm:'ì™¸êµ­ì¸',v:ms.foreign_net||0},{nm:'ê¸°ê´€',v:ms.inst_net||0},{nm:'ê°œì¸',v:ms.indiv_net||0}];
  const maxA=Math.max(...rows.map(r=>Math.abs(r.v)),1);
  document.getElementById('supplyBarsHome').innerHTML=rows.map(r=>{
    const up=r.v>=0, pct=Math.abs(r.v)/maxA*100;
    return`<div class="sup-row">
      <div class="sup-nm">${r.nm}</div>
      <div class="sup-bw"><div class="sup-bf ${up?'up':'dn'}" style="--w:${pct}%"></div></div>
      <div class="sup-val ${up?'up':'dn'}">${fmtAmt(r.v)}</div>
    </div>`;
  }).join('');
}

// í™ˆ í†µê³„
function renderStatHome(){
  const ps=G.phase_stats||{};
  document.getElementById('statHome').innerHTML=[
    {l:'â­ GOLDEN',v:ps.golden||0,c:'#F5A623'},
    {l:'ğŸš€ ì‹ ê³ ê°€',v:ps.new_high||0,c:'#F97316'},
    {l:'ğŸ”µ P1 ë§¤ì§‘',v:ps.p1||0,c:'#3B7BF6'},
    {l:'ğŸ”´ P3 ê²½ê³ ',v:ps.p3||0,c:'#FF4D6D'},
  ].map(s=>`<div class="stat-c" style="border-color:${s.c}22">
    <div class="stat-l">${s.l}</div>
    <div class="stat-v" style="color:${s.c}">${s.v}</div>
    <div class="stat-s">ì¢…ëª©</div>
  </div>`).join('');
}

// í™ˆ ì£¼ëª© ì¢…ëª©
function renderHotStocks(){
  const stocks=(G.stocks||[]).filter(s=>s.phase).slice(0,5);
  document.getElementById('hotStocks').innerHTML=stocks.length?stocks.map((s,i)=>{
    const up=s.change>=0;
    const pc=phaseColor(s.phase_key);
    return`<div class="p-item">
      <div class="p-no">${i+1}</div>
      <div class="p-info">
        <div class="p-name">${s.name} ${mktBadge(s.market)}</div>
        <div class="p-badges">
          <span class="badge" style="color:${pc};background:${pc}18">${s.phase}</span>
          ${s.nh_flag?`<span class="badge" style="color:#F97316;background:#F9731618">${s.nh_flag}</span>`:''}
        </div>
      </div>
      <div class="p-r">
        <div class="p-price">${fmtN(s.price)}</div>
        <div class="p-chg ${up?'up':'dn'}">${fmtP(s.change)}</div>
      </div>
    </div>`;
  }).join(''):`<div class="empty">ì‹ í˜¸ ì¢…ëª© ì—†ìŒ</div>`;
}

/* â”€â”€ ìˆ˜ê¸‰ íƒ­ â”€â”€ */
let _supPeriod='day';
function setPeriod(p){
  _supPeriod=p;
  document.querySelectorAll('.period-tab').forEach(b=>b.classList.toggle('on',b.dataset.period===p));
  const labels={day:'ì˜¤ëŠ˜',week:'1ì£¼ì¼',month:'1ê°œì›”'};
  document.getElementById('supplyCardTitle').textContent=`ì‹œì¥ ìˆ˜ê¸‰ (${labels[p]})`;
  renderSupplyTab();
}
function renderSupplyTab(){
  // ì‹œì¥ ì „ì²´ ìˆ˜ê¸‰ â€” ê¸°ê°„ë³„ì€ ì¢…ëª© ì§‘ê³„ë¡œ ê·¼ì‚¬
  renderMktSupply();
  renderTopTraders();
  renderConsecLists();
}
function renderMktSupply(){
  const ms=G.market_supply||{};
  // ê¸°ê°„ë³„: ì¢…ëª©ë“¤ì˜ supply_periods í•©ì‚°
  let fn=ms.foreign_net||0, in_=ms.inst_net||0, iv=ms.indiv_net||0;
  if(_supPeriod!=='day'){
    fn=in_=iv=0;
    (G.stocks||[]).forEach(s=>{
      const sp=(s.supply_periods||{})[_supPeriod]||{};
      fn+=sp.foreign||0; in_+=sp.inst||0; iv+=sp.indiv||0;
    });
  }
  const rows=[{nm:'ì™¸êµ­ì¸',v:fn},{nm:'ê¸°ê´€',v:in_},{nm:'ê°œì¸',v:iv}];
  const maxA=Math.max(...rows.map(r=>Math.abs(r.v)),1);
  document.getElementById('mktSupply').innerHTML=rows.map(r=>{
    const up=r.v>=0, pct=Math.abs(r.v)/maxA*100;
    return`<div class="sup-row">
      <div class="sup-nm">${r.nm}</div>
      <div class="sup-bw"><div class="sup-bf ${up?'up':'dn'}" style="--w:${pct}%"></div></div>
      <div class="sup-val ${up?'up':'dn'}">${fmtAmt(r.v)}</div>
    </div>`;
  }).join('');
}

function renderTopTraders(){
  const tt = G.top_traders||{};
  const actors=[
    {key:'foreign',label:'ì™¸êµ­ì¸',color:'#3B7BF6'},
    {key:'inst',   label:'ê¸°ê´€',  color:'#F5A623'},
    {key:'indiv',  label:'ê°œì¸',  color:'#9B6EFF'},
  ];
  // ë§¤ìˆ˜
  let buyHtml='';
  actors.forEach(a=>{
    const list=(tt[a.key]||{}).top_buy||[];
    if(!list.length) return;
    buyHtml+=`<div style="font-size:10.5px;font-weight:700;color:${a.color};padding:8px 0 4px;border-bottom:1px solid var(--bd)">${a.label} ìƒìœ„ ë§¤ìˆ˜</div>`;
    buyHtml+=list.map((s,i)=>`<div class="trader-row">
      <div class="tr-no">${i+1}</div>
      <div class="tr-name">${s.name}<span class="tr-mkt">${s.market}</span></div>
      <div class="tr-amt up">${fmtAmt(s.amt)}</div>
    </div>`).join('');
  });
  document.getElementById('topBuyList').innerHTML=buyHtml||'<div class="empty">ë°ì´í„° ì—†ìŒ</div>';

  // ë§¤ë„
  let sellHtml='';
  actors.forEach(a=>{
    const list=(tt[a.key]||{}).top_sell||[];
    if(!list.length) return;
    sellHtml+=`<div style="font-size:10.5px;font-weight:700;color:${a.color};padding:8px 0 4px;border-bottom:1px solid var(--bd)">${a.label} ìƒìœ„ ë§¤ë„</div>`;
    sellHtml+=list.map((s,i)=>`<div class="trader-row">
      <div class="tr-no">${i+1}</div>
      <div class="tr-name">${s.name}<span class="tr-mkt">${s.market}</span></div>
      <div class="tr-amt dn">${fmtAmt(s.amt)}</div>
    </div>`).join('');
  });
  document.getElementById('topSellList').innerHTML=sellHtml||'<div class="empty">ë°ì´í„° ì—†ìŒ</div>';
}

function renderConsecLists(){
  const stocks=G.stocks||[];
  const fSorted=[...stocks].filter(s=>s.f_consec>0).sort((a,b)=>b.f_consec-a.f_consec);
  const iSorted=[...stocks].filter(s=>s.i_consec>0).sort((a,b)=>b.i_consec-a.i_consec);
  const indivSorted=[...stocks].filter(s=>s.indiv_today>0).sort((a,b)=>b.indiv_today-a.indiv_today);
  const mkConsec=(data,color,amtKey)=>data.map((s,i)=>`
    <div class="consec-item">
      <div class="c-rank">${i+1}</div>
      <div class="c-info">
        <div class="c-name">${s.name}</div>
        <div class="c-mkt">${s.market}</div>
      </div>
      <span class="c-days" style="color:${color};background:${color}15;border:1px solid ${color}30">
        ${s[amtKey==='f_consec'?'f_consec':'i_consec']||0}ì¼ ì—°ì†
      </span>
      <div class="c-amt up">${fmtAmt(s[amtKey==='f_consec'?'foreign_today':'inst_today'])}</div>
    </div>`).join('');

  document.getElementById('fConsList').innerHTML=mkConsec(fSorted.slice(0,10),'#3B7BF6','f_consec')||'<div class="empty">ë°ì´í„° ì—†ìŒ</div>';
  document.getElementById('fMore').innerHTML=mkConsec(fSorted.slice(10,50),'#3B7BF6','f_consec');
  document.getElementById('iConsList').innerHTML=mkConsec(iSorted.slice(0,10),'#F5A623','i_consec')||'<div class="empty">ë°ì´í„° ì—†ìŒ</div>';
  document.getElementById('iMore').innerHTML=mkConsec(iSorted.slice(10,50),'#F5A623','i_consec');

  // ê°œì¸
  document.getElementById('pConsList').innerHTML=indivSorted.slice(0,10).map((s,i)=>`
    <div class="consec-item">
      <div class="c-rank">${i+1}</div>
      <div class="c-info">
        <div class="c-name">${s.name}</div>
        <div class="c-mkt">${s.market}</div>
      </div>
      <div class="c-amt up">${fmtAmt(s.indiv_today)}</div>
    </div>`).join('')||'<div class="empty">ë°ì´í„° ì—†ìŒ</div>';
}

function toggleMore(id){
  const el=document.getElementById(id);
  const isOpen=el.classList.toggle('open');
  el.previousElementSibling.textContent=isOpen?'â–´ ì ‘ê¸°':'â–¾ ë”ë³´ê¸° (ìµœëŒ€ 50ê°œ)';
}

/* â”€â”€ ì„¹í„° íƒ­ â”€â”€ */
function renderSector(){
  const maxA=Math.max(...SECTOR_DATA.map(s=>Math.abs(s.ch)));
  document.getElementById('hmGrid').innerHTML=SECTOR_DATA.map((s,i)=>{
    const up=s.ch>=0;
    const inten=Math.min(Math.abs(s.ch)/7,1);
    const base=up?[14,122,78]:[180,30,50];
    const bg=`rgba(${base},${0.25+inten*.55})`;
    return`<div class="hm-c" style="background:${bg};border:1px solid rgba(${base},.4)"
      onclick="openSectorPopup(${i})">
      <div class="hm-n">${s.n}</div>
      <div class="hm-ch">${s.ch>=0?'+':''}${s.ch.toFixed(2)}%</div>
      <div class="hm-vl">${s.vol}</div>
    </div>`;
  }).join('');

  document.getElementById('secList').innerHTML=[...SECTOR_DATA].sort((a,b)=>b.ch-a.ch).map((s,i)=>{
    const up=s.ch>=0, pct=Math.abs(s.ch)/maxA*100;
    const idx=SECTOR_DATA.indexOf(s);
    return`<div class="sec-item" onclick="openSectorPopup(${idx})">
      <div class="sec-rank">${i+1}</div>
      <div class="sec-nm">${s.n}</div>
      <div class="sec-bw"><div class="sec-bf" style="--w:${pct}%;background:${up?'linear-gradient(90deg,#0EA86B,var(--up))':'linear-gradient(90deg,#CC2244,var(--dn))'}"></div></div>
      <div class="sec-pct ${up?'up':'dn'}">${up?'+':''}${s.ch.toFixed(2)}%</div>
      <div class="sec-vol">${s.vol}</div>
    </div>`;
  }).join('');
}

function openSectorPopup(idx){
  const s=SECTOR_DATA[idx];
  document.getElementById('popupTitle').textContent=`${s.n} â€” ëŒ€í‘œ êµ¬ì„±ì¢…ëª©`;
  document.getElementById('popupStocks').innerHTML=s.stocks.map(st=>{
    // ê´€ì‹¬ì¢…ëª©ì—ì„œ ì‹¤ì œ ê°€ê²© ì°¾ê¸°
    const found=(G.stocks||[]).find(gs=>gs.name===st.name);
    const up=found?found.change>=0:true;
    return`<div class="popup-stock">
      <div><div class="ps-name">${st.name}</div><div class="ps-mkt">${mktBadge(st.market)}</div></div>
      <div>${found?`<div class="ps-price">${fmtN(found.price)}</div><div class="ps-chg ${up?'up':'dn'}">${fmtP(found.change)}</div>`:'<div style="font-size:11px;color:var(--t3)">ê°€ê²© ì •ë³´ ì—†ìŒ</div>'}</div>
    </div>`;
  }).join('');
  document.getElementById('sectorPopup').classList.remove('hidden');
}
function closeSectorPopup(e,force){
  if(force||!e||e.target===document.getElementById('sectorPopup'))
    document.getElementById('sectorPopup').classList.add('hidden');
}

/* â”€â”€ ì‹ ê³ ê°€ íƒ­ â”€â”€ */
function switchNH(mode){ nhMode=mode; renderNH(); }
function switchNHSub(sub){ nhSub=sub; renderNH(); }
function renderNH(){
  const stocks=G.stocks||[];
  // 52ì£¼ ì‹ ê³ ê°€/ì‹ ì €ê°€
  const h52=stocks.filter(s=>s.nh_flag==='ğŸ”¥52ì£¼ì‹ ê³ ê°€'||s.nh_flag==='ğŸ“ì‹ ê³ ê°€ê·¼ì ‘');
  const l52=stocks.filter(s=>s.change<=-5||s.nh_ratio>0&&s.nh_ratio<5);
  // ì—­ì‚¬ì  ì‹ ê³ ê°€: ì‹ ê³ ê°€+ê°•í•œ ìƒìŠ¹ (ê·¼ì‚¬)
  const hHist=stocks.filter(s=>s.nh_flag==='ğŸ”¥52ì£¼ì‹ ê³ ê°€'&&s.change>=5);
  const lHist=stocks.filter(s=>s.change<=-8);

  const isUp=nhMode==='h';
  const data=isUp?(nhSub==='52'?h52:hHist):(nhSub==='52'?l52:lHist);

  document.getElementById('nhHBtn').className='nh-tab '+(isUp?'a-up':'');
  document.getElementById('nhLBtn').className='nh-tab '+(isUp?'':'a-dn');
  document.getElementById('nhHCnt').textContent=`(${h52.length})`;
  document.getElementById('nhLCnt').textContent=`(${l52.length})`;
  document.getElementById('nhCardT').textContent=isUp
    ?(nhSub==='52'?'52ì£¼ ì‹ ê³ ê°€ ì¢…ëª©':'ì—­ì‚¬ì  ì‹ ê³ ê°€ ì¢…ëª©')
    :(nhSub==='52'?'52ì£¼ ì‹ ì €ê°€ ê·¼ì ‘ ì¢…ëª©':'ì—­ì‚¬ì  ì‹ ì €ê°€ ì¢…ëª©');

  // ì„œë¸Œíƒ­ ìƒ‰ìƒ
  document.querySelectorAll('.nh-sub-btn').forEach((b,i)=>b.classList.toggle('on',i===(nhSub==='52'?0:1)));

  document.getElementById('nhList').innerHTML=data.length?data.map((s,i)=>{
    const up=s.change>=0;
    const pc=phaseColor(s.phase_key);
    return`<div class="nh-item">
      <div class="nh-rank">${i+1}</div>
      <div class="nh-info">
        <div class="nh-name">${s.name}</div>
        <div class="nh-meta">
          ${mktBadge(s.market)}
          ${s.nh_flag?`<span class="nh-sig" style="color:#F97316;background:#F9731618">${s.nh_flag}</span>`:''}
          ${s.phase?`<span class="nh-sig" style="color:${pc};background:${pc}18">${s.phase}</span>`:''}
        </div>
        ${s.nh_ratio?`<div class="nh-ratio">52ì£¼ ê³ ê°€ ëŒ€ë¹„ ${s.nh_ratio}%</div>`:''}
      </div>
      <div class="nh-r">
        <div class="nh-price ${up?'up':'dn'}">${fmtN(s.price)}</div>
        <div class="nh-chg ${up?'up':'dn'}">${fmtP(s.change)}</div>
      </div>
    </div>`;
  }).join(''):`<div class="empty">í•´ë‹¹ ì¢…ëª© ì—†ìŒ</div>`;
}

/* â”€â”€ Phase ì‹ í˜¸ íƒ­ â”€â”€ */
const P_CHIPS=[{k:'all',l:'ì „ì²´'},{k:'golden',l:'â­ GOLDEN'},{k:'p2',l:'ğŸŸ¢ P2'},{k:'p1',l:'ğŸ”µ P1 ë§¤ì§‘'},{k:'p3',l:'ğŸ”´ P3 ê²½ê³ '}];
function renderPhase(){
  const ps=G.phase_stats||{};
  document.getElementById('statGrid').innerHTML=[
    {l:'â­ GOLDEN',v:ps.golden||0,c:'#F5A623'},
    {l:'ğŸŸ¢ P2 ìƒìŠ¹',v:ps.p2||0,c:'#10D98A'},
    {l:'ğŸ”µ P1 ë§¤ì§‘',v:ps.p1||0,c:'#3B7BF6'},
    {l:'ğŸ”´ P3 ê²½ê³ ',v:ps.p3||0,c:'#FF4D6D'},
  ].map(s=>`<div class="stat-c" style="border-color:${s.c}22">
    <div class="stat-l">${s.l}</div>
    <div class="stat-v" style="color:${s.c}">${s.v}</div>
    <div class="stat-s">ì¢…ëª©</div>
  </div>`).join('');

  document.getElementById('pChips').innerHTML=P_CHIPS.map(c=>
    `<button class="p-chip ${c.k===pFilter?'on':''}" onclick="setPF('${c.k}')">${c.l}</button>`
  ).join('');
  renderPhaseList();
}
function setPF(k){ pFilter=k; renderPhase(); }
function renderPhaseList(){
  const stocks=G.stocks||[];
  const filtered=pFilter==='all'?stocks.filter(s=>s.phase):stocks.filter(s=>s.phase_key===pFilter);
  const title=pFilter==='all'?'ì˜¤ëŠ˜ì˜ Phase ì‹ í˜¸':(P_CHIPS.find(c=>c.k===pFilter)?.l||'')+' ì‹ í˜¸';
  document.getElementById('phaseCardT').textContent=title;
  document.getElementById('phaseList').innerHTML=filtered.length?filtered.map((s,i)=>{
    const up=s.change>=0, pc=phaseColor(s.phase_key);
    return`<div class="p-item">
      <div class="p-no">${i+1}</div>
      <div class="p-info">
        <div class="p-name">${s.name} ${mktBadge(s.market)}</div>
        <div class="p-badges">
          <span class="badge" style="color:${pc};background:${pc}18">${s.phase}</span>
          ${s.nh_flag?`<span class="badge" style="color:#F97316;background:#F9731618">${s.nh_flag}</span>`:''}
        </div>
        <div class="p-metrics">
          <span class="metric">ë¬´ê²Œìˆ˜ <span>${s.muges_ratio?.toFixed(2)||'-'}</span></span>
          <span class="metric">SMP <span>${s.smp>=0?'+':''}${s.smp?.toFixed(1)||0}%</span></span>
          <span class="metric">ì™¸ì¸ì—°ì† <span>${s.f_consec||0}ì¼</span></span>
          <span class="metric">ê±°ë˜ëŸ‰ë°°ìˆ˜ <span>${s.vol_ratio?.toFixed(1)||'-'}x</span></span>
        </div>
      </div>
      <div class="p-r">
        <div class="p-price ${up?'up':'dn'}">${fmtN(s.price)}</div>
        <div class="p-chg ${up?'up':'dn'}">${fmtP(s.change)}</div>
      </div>
    </div>`;
  }).join(''):`<div class="empty">í•´ë‹¹ ì‹ í˜¸ ì—†ìŒ</div>`;
}

/* â•â• íƒ­ ì „í™˜ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function switchTab(idx){
  document.querySelectorAll('.tab').forEach(b=>b.classList.toggle('on',b.dataset.t===idx));
  document.querySelectorAll('.panel').forEach(p=>p.classList.toggle('on',p.dataset.p===idx));
  document.querySelectorAll('.nav-btn').forEach(b=>b.classList.toggle('on',b.dataset.n===idx));
  document.querySelector('.main').scrollTop=0;
}
document.querySelectorAll('.tab').forEach(b=>b.addEventListener('click',()=>switchTab(b.dataset.t)));
document.querySelectorAll('.nav-btn').forEach(b=>b.addEventListener('click',()=>switchTab(b.dataset.n)));
document.querySelectorAll('[data-goto]').forEach(el=>el.addEventListener('click',()=>switchTab(el.dataset.goto)));

/* â•â• ì‹œê³„ & ì¥ì¤‘ ìƒíƒœ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function updateClock(){
  const kst=new Date(new Date().getTime()+9*3600000);
  const h=String(kst.getUTCHours()).padStart(2,'0');
  const m=String(kst.getUTCMinutes()).padStart(2,'0');
  const s=String(kst.getUTCSeconds()).padStart(2,'0');
  document.getElementById('clockEl').textContent=`${h}:${m}:${s}`;
  const total=kst.getUTCHours()*60+kst.getUTCMinutes();
  const open=total>=545&&total<=930;
  const dot=document.getElementById('liveDot');
  const lbl=document.getElementById('liveLabel');
  const pill=document.getElementById('livePill');
  if(open){
    dot.style.cssText='background:var(--up);animation:pulse 1.8s infinite';
    lbl.textContent='LIVE'; lbl.style.color='var(--up)';
    pill.style.cssText='background:rgba(16,217,138,.1);border-color:rgba(16,217,138,.25)';
  }else{
    dot.style.cssText='background:var(--fl)';
    lbl.textContent='ë§ˆê°'; lbl.style.color='var(--fl)';
    pill.style.cssText='background:rgba(107,122,153,.1);border-color:rgba(107,122,153,.2)';
  }
}
setInterval(updateClock,1000); updateClock();
setInterval(()=>{
  const kst=new Date(new Date().getTime()+9*3600000);
  const t=kst.getUTCHours()*60+kst.getUTCMinutes();
  if(t>=545&&t<=935&&document.getElementById('dateSelect').value==='today') loadData();
},5*60*1000);

/* â•â• ìƒ˜í”Œ ë°ì´í„° â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const SAMPLE={
  updated_at:'2026-02-28 15:40',date:'2026-02-28',is_market_open:false,
  available_dates:[],
  indices:[
    {name:'KOSPI', value:2641.09,change:-0.24,diff:-6.31, vol:'7.8ì¡°',vol_raw:7800000000000},
    {name:'KOSDAQ',value:763.41, change:+1.12,diff:+8.47, vol:'5.2ì¡°',vol_raw:5200000000000},
    {name:'KSP200',value:354.82, change:-0.31,diff:-1.11, vol:'-',vol_raw:0},
  ],
  market_supply:{foreign_net:-8420_0000_0000,inst_net:3210_0000_0000,indiv_net:5340_0000_0000},
  phase_stats:{golden:2,p1:4,p2:3,p3:2,new_high:3},
  summary_lines:[
    'ì½”ìŠ¤í”¼ 2,641.09 (-0.24%) | ì½”ìŠ¤ë‹¥ 763.41 (+1.12%)',
    'ì™¸êµ­ì¸ -8,420ì–µ | ê¸°ê´€ +3,210ì–µ | ê°œì¸ +5,340ì–µ',
    'â­ GOLDEN 2ì¢…ëª©: í•œë¯¸ë°˜ë„ì²´, í˜„ëŒ€ì œì² ',
    'ğŸ”¥ 52ì£¼ ì‹ ê³ ê°€: í•œë¯¸ë°˜ë„ì²´, ì„œì§„ì‹œìŠ¤í…œ, í˜„ëŒ€ì°¨',
  ],
  top_traders:{
    foreign:{top_buy:[{name:'SKí•˜ì´ë‹‰ìŠ¤',market:'KOSPI',amt:1920_0000_0000},{name:'ì‚¼ì„±ì „ì',market:'KOSPI',amt:840_0000_0000}],top_sell:[{name:'ì¹´ì¹´ì˜¤',market:'KOSPI',amt:-420_0000_0000}]},
    inst:{top_buy:[{name:'í˜„ëŒ€ì°¨',market:'KOSPI',amt:320_0000_0000},{name:'LGì—ë„ˆì§€ì†”ë£¨ì…˜',market:'KOSPI',amt:210_0000_0000}],top_sell:[{name:'ì‚¼ì„±ì „ì',market:'KOSPI',amt:-680_0000_0000}]},
    indiv:{top_buy:[{name:'í•œë¯¸ë°˜ë„ì²´',market:'KOSPI',amt:290_0000_0000},{name:'NAVER',market:'KOSPI',amt:180_0000_0000}],top_sell:[]},
  },
  stocks:[
    {code:'042700',name:'í•œë¯¸ë°˜ë„ì²´',market:'KOSPI', price:323500,change:+17.4,phase:'â­ GOLDEN',    phase_key:'golden',smp:2.8,muges_ratio:.72,vol_ratio:1.4,f_consec:5,i_consec:2,nh_flag:'ğŸ”¥52ì£¼ì‹ ê³ ê°€',nh_ratio:99.8,foreign_today:640_0000_0000,inst_today:120_0000_0000,indiv_today:90_0000_0000,supply_periods:{day:{foreign:640_0000_0000,inst:120_0000_0000,indiv:90_0000_0000},week:{foreign:1200_0000_0000,inst:320_0000_0000,indiv:180_0000_0000},month:{foreign:2400_0000_0000,inst:580_0000_0000,indiv:320_0000_0000}}},
    {code:'004020',name:'í˜„ëŒ€ì œì² ',  market:'KOSPI', price:46500, change:+19.9,phase:'â­ GOLDEN',    phase_key:'golden',smp:1.9,muges_ratio:.68,vol_ratio:1.3,f_consec:4,i_consec:3,nh_flag:'ğŸ”¥52ì£¼ì‹ ê³ ê°€',nh_ratio:99.5,foreign_today:380_0000_0000,inst_today:95_0000_0000,indiv_today:60_0000_0000,supply_periods:{day:{foreign:380_0000_0000,inst:95_0000_0000,indiv:60_0000_0000},week:{foreign:780_0000_0000,inst:210_0000_0000,indiv:120_0000_0000},month:{foreign:1400_0000_0000,inst:380_0000_0000,indiv:210_0000_0000}}},
    {code:'178320',name:'ì„œì§„ì‹œìŠ¤í…œ',market:'KOSDAQ',price:47550, change:+21.6,phase:'ğŸŸ¢ P2 ìƒìŠ¹ì´ˆê¸°',phase_key:'p2',  smp:1.4,muges_ratio:.95,vol_ratio:4.2,f_consec:3,i_consec:1,nh_flag:'ğŸ”¥52ì£¼ì‹ ê³ ê°€',nh_ratio:99.9,foreign_today:210_0000_0000,inst_today:55_0000_0000,indiv_today:40_0000_0000,supply_periods:{day:{foreign:210_0000_0000,inst:55_0000_0000,indiv:40_0000_0000},week:{foreign:380_0000_0000,inst:120_0000_0000,indiv:80_0000_0000},month:{foreign:620_0000_0000,inst:210_0000_0000,indiv:140_0000_0000}}},
    {code:'005380',name:'í˜„ëŒ€ì°¨',    market:'KOSPI', price:674000,change:+10.7,phase:'ğŸŸ¢ P2 ìˆ˜ê¸‰ê°€ì†',phase_key:'p2',  smp:2.2,muges_ratio:1.1,vol_ratio:1.8,f_consec:6,i_consec:2,nh_flag:'ğŸ”¥52ì£¼ì‹ ê³ ê°€',nh_ratio:100,foreign_today:890_0000_0000,inst_today:320_0000_0000,indiv_today:140_0000_0000,supply_periods:{day:{foreign:890_0000_0000,inst:320_0000_0000,indiv:140_0000_0000},week:{foreign:1680_0000_0000,inst:640_0000_0000,indiv:280_0000_0000},month:{foreign:2800_0000_0000,inst:1100_0000_0000,indiv:480_0000_0000}}},
    {code:'000660',name:'SKí•˜ì´ë‹‰ìŠ¤',market:'KOSPI', price:677000,change:+1.5, phase:'ğŸ”µ P1 ìˆ˜ê¸‰ë³µí•©',phase_key:'p1',  smp:1.6,muges_ratio:.77,vol_ratio:1.2,f_consec:3,i_consec:2,nh_flag:'',nh_ratio:82,foreign_today:1920_0000_0000,inst_today:540_0000_0000,indiv_today:-280_0000_0000,supply_periods:{day:{foreign:1920_0000_0000,inst:540_0000_0000,indiv:-280_0000_0000},week:{foreign:3200_0000_0000,inst:980_0000_0000,indiv:-420_0000_0000},month:{foreign:5400_0000_0000,inst:1600_0000_0000,indiv:-780_0000_0000}}},
    {code:'005930',name:'ì‚¼ì„±ì „ì',  market:'KOSPI', price:216500,change:-0.7, phase:'ğŸ”´ P3 ë¶„ì‚°ê²½ê³ ', phase_key:'p3',  smp:-.3,muges_ratio:3.2,vol_ratio:2.8,f_consec:0,i_consec:0,nh_flag:'',nh_ratio:64,foreign_today:-2840_0000_0000,inst_today:-680_0000_0000,indiv_today:1200_0000_0000,supply_periods:{day:{foreign:-2840_0000_0000,inst:-680_0000_0000,indiv:1200_0000_0000},week:{foreign:-4200_0000_0000,inst:-1200_0000_0000,indiv:2100_0000_0000},month:{foreign:-7800_0000_0000,inst:-2100_0000_0000,indiv:3800_0000_0000}}},
    {code:'035720',name:'ì¹´ì¹´ì˜¤',    market:'KOSPI', price:68200, change:-4.2, phase:'ğŸ”´ P3 ì†ë°”ë€œê²½ê³ ',phase_key:'p3',  smp:-1.8,muges_ratio:2.8,vol_ratio:2.1,f_consec:0,i_consec:0,nh_flag:'',nh_ratio:42,foreign_today:-420_0000_0000,inst_today:-180_0000_0000,indiv_today:280_0000_0000,supply_periods:{day:{foreign:-420_0000_0000,inst:-180_0000_0000,indiv:280_0000_0000},week:{foreign:-780_0000_0000,inst:-320_0000_0000,indiv:480_0000_0000},month:{foreign:-1200_0000_0000,inst:-560_0000_0000,indiv:820_0000_0000}}},
    {code:'226950',name:'ì˜¬ë¦­ìŠ¤',    market:'KOSDAQ',price:180000,change:+12.9,phase:'ğŸ”µ P1 OBVë§¤ì§‘', phase_key:'p1',  smp:.8,muges_ratio:.61,vol_ratio:1.1,f_consec:2,i_consec:0,nh_flag:'ğŸ“ì‹ ê³ ê°€ê·¼ì ‘',nh_ratio:97.2,foreign_today:80_0000_0000,inst_today:0,indiv_today:60_0000_0000,supply_periods:{day:{foreign:80_0000_0000,inst:0,indiv:60_0000_0000},week:{foreign:140_0000_0000,inst:20_0000_0000,indiv:90_0000_0000},month:{foreign:240_0000_0000,inst:40_0000_0000,indiv:160_0000_0000}}},
  ],
};

// ì‹œì‘
loadData();
</script>
</body>
</html>
